#### 002_对象的解构赋值

解构不仅可以用于数组,也可以用于对象

```
let {foo, bar} = {foo: 'aaa', bar:'bbb'}
foo // 'aaa'
bar // 'bbb'
```

变量必须与属性同名,才能取到正确的值.

```
let { foo } = { bar:'aaa' }
foo // undefined
```

解构失败,则变量的值等于undefined

> 对象的解构赋值,可以很方便地讲现有对象的方法,赋值到某个变量

```
// 例一
let { log, sin, cos } = Math
// 例二
const { log } = console
log('hello') // hello
```

如果变量名与属性名不一致,必须如下书写

```
let {foo:baz} = { foo:'aaa', bar: 'bbb' }
baz // 'aaa'

let obj = { first: 'hello', last:'world' }
let { first:f, last:1 } = obj
f // 'hello'
l // 'world'
```

实际上,对象的解构赋值是下面形式的简写

```
let { foo:foo, bar: bar } = { foo: 'aaa', bar: 'bbb' }
```

对象的解构赋值的内部机制,是先找到同名属性,然后再赋给对应的变量,真正被赋值的是后者,而不是前者.

```
let { foo:baz } = { foo: 'aaa', bar: 'bbb' }
baz // 'aaa'
foo // error: foo is not defined
```

与数组一样,解构也可以用于嵌套结构的对象.

```
let obj = {
  p: [
    'Hello',
    { y:'world' }
  ]
}
let { p, p: [x, { y }] } = obj
x // "Hello",
y // "World"
p // ["Hello",{y:"world"}]
```



> 注意点:
>
> (1)如果要讲一个已经声明的变量用于解构赋值,小心

```
// 错误的写法
let x;
{x} = {x:1};
// SyntaxError: syntax error
```

上面的代码的写法会报错,因为Javascript引擎会将{x}理解成一个代码块, 从而发生语法错误,只有不将大括号写在行首,避免Javascript将其解释为代码块,才能解决

```
// 正确的写法
let x;
({x} = {x: 1});
```

> (2)解构赋值允许等号左边的模式中,不放置任何变量名.因此,可以写出非常股改的赋值表达式

```
({} = [true, false]);
({} = 'abc');
({} = []);
```

上面的表达式虽然毫无意义,但是语法合法,可以执行.

> (3) 由于数组本质是特殊的对象, 因此可以对数组进行对象属性的解构.

```
let arr = [1, 2, 3];
let {0: first, [arr.length - 1]: last} = arr;
first // 1
last // 3
```

上面代码对数组进行对象解构. 数组arr的0键位对应的值是1,[arr.length - 1]就是2键,对应的值是3.方括号这种写法,属于"属性名表达式"